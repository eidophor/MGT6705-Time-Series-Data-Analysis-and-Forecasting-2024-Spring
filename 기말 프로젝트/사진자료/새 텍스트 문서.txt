본 파트의 남은 부분에서는 선택한 변수들이 본 보고서에서 사용되기에 적합한지 사전에 검사하는 작업을 수행하였는데, 이 또한 사용된 데이터의 특성을 직관적으로 잘 나타내 주는 자료이므로 해당 파트에 추가하였다. 두 가지 분석을 진행했는데, 하나는 해당 변수와 일본 여행객 데이터 사이를 고려한 것이고 다른 하나는 이 외생 변수들끼리 상관관계가 있는지를 히트맵을 통해서 시각화하고 분석하였다.

각각의 키워드 데이터와 일본 여행객 데이터를 시차를 고려하지 않고 1대1로 매칭한 후 이를 산점도로 나타낸 후 단순회귀직선을 표시하였다. 이는 물론 시차가 적용됨에 따라서 둘 사이가 영향이 있을 수 있지만, 본 그룹에서 정한 key-word 데이터가 터무니 없이 관련이 없는 데이터인지 확인하여 사전에 모델 학습에서 제외시키고자 하였다. 이는 어떤 변수를 삽입할지와 각각의 최적화된 lag를 정해야 하는 단일 SARIMAX 모형을 만들 때 시간을 크게 단축하기 위함이다. 
추가적으로 진행한 외생 변수들끼리의 상관관계 분석은 아래의 figure과 같다. 

위의 figure 4에서 나타나듯이 해당 산점도 그림을 통해서 dakgalbi라는 키워드에 대해서는 검색 데이터 값이 0인 시기에도 일본 여행객 수는 매우 다양한 값을 보이기 때문에 데이터의 사용이 적절하지 않다고 판단하여 분석에서 제외시켰다. 

히트맵에서 보면 알 수 있듯이 두 키워드 변수 samgyeopsal과 kpop은 0.88의 매우 높은 상관관계를 가진다. 본 보고서에서는 0.8이상의 상관관계를 가지는 경우 다중공선성의 문제가 발생할 것이라고 생각하여 해당 변수 중 하나를 full model에서 제외하였다. 여기서는 kpop이 제외되었다. 


다음 파트에서는 이렇게 분석한 키워드 데이터들의 월별 데이터 값을 한국을 방문하는 일본인 여행자수 시계열 데이터의 외생변수로 포함시켜 전체 모델을 학습시키고 모델의 성능을 평가하려고 한다. 전체모델에서는 사용된 6개의 키워드 단어들을 모두 포함하고 각각의 lag를 0(lag 없음)부터 4까지 가능하다고 선행연구를 통해서 넓게 잡았다. 다시 말해서, 4개월 보다 이전에 검색이 이루어진 것은 여행을 계획하고 검색한 것이라고 판단하지 않겠다고 정한 것이다. 

보다 구체적으로 각각의 변수가 가능한 lag를 0~4로 두고 모든 변수에 대해서 반복문을 설정하여 총 5^6개의 모델을 생성하고 이에 대한 테스트 기간의 RMSE를 계산하여 최종적으로 RMSE가 가장 낮은 모델을 전체 모델로 선정하였다. 여기서 중요한 점은 여행객 데이터의 경우 최근에 회복되는 추세가 가파르기 때문에 훈련데이터를 최대한 많이 반영하고자 하였다. 이러한 이유로 학습 데이터의 경우 2010년 1월부터 2023년 12월까지의 데이터를 사용하여 학습을 진행하였고, 테스트 데이터는 2024년 1월부터 2024년 4월까지 테스트를 진행하였다. 이렇게 전체 모델을 생성하고 모델에서 종속변수에 강하게 영향을 미친 변수들에 대해서는 각각의 간소화된 모델을 만들어 더 자세히 분석하고자 하였다. 

최종적으로는 RMSE가 낮은 모델을 사용하여 이후 여행객에 대한 예측을 진행하고, 여행객 수에 결정적으로 영향을 미친 keyword와 lag를 사용하여 이를 타겟팅한 정책을 제시하여 대한민국을 방문하는 일본인 관광객수가 늘어날 잠재력은 넘치지만 진전이 없는 상황을 개선하는 방법을 모색하고자 하였다. 


이전 파트에서 설명하였던 전체 변수를 포함한 SARIMAX 모델의 lag 시뮬레이션 결과는 아래와 같다. R 프로그램을 사용하여 반복문을 돌면서 더 낮은 RMSE가 나온 모델을 발견한 경우 해당 모델을 출력하도록 설정하였고 프로그램이 잘 작동하는지 확인하기 위해 5000개의 모델을 확인할 때마다 이를 확인할 수 있도록 설정하였다. 


위의 결과에서 나타나듯이 각각의 변수에 대한 lag는 2, 4, 3, 4, 0, 4이다. 그리고 해당 모델을 통해 분석한 경우에는 RMSE가 34038이 나온 것을 알 수 있다. 2024년 현재 시점에 와서야 코로나-19의 영향력에서 벗어나 빠르게 한국을 방문하는 일본인 여행객 수가 증가하고 있는 상황이고 이를 감안하여 테스트 데이터의 수가 4개월로 설정하였기에 RMSE가 조금 높게 나왔다고 판단하였다. 실제로 위의 테이블에 첨부된 예측 결과를 보면, 95% 신뢰구간의 범위가 넓게 설정된 것을 확인할 수 있다. 예측값의 경우에는 24년 1월에 153366명, 2월에 209607명, 3월에 278931명, 4월에 243072명이 방문할 것으로 예측하였고 실제 값의 경우에는 각각 137713명,	177633명, 334131명, 225182명이 한국을 방문하였다.

한편 본 보고서의 가장 중요한 목적은 단순히 앞으로의 데이터 수치를 예측하는 것이 아니라 어떤 키워드 요인이 보다 직접적으로 이러한 결과에 영향을 주었는지 분석하는 것이다. 이를 위해서 단순하게는 단순 회귀분석으로 이전에 시각화하여 제시하였고, 현재 파트에서는 모델의 summary데이터를 통해 이에 대해 해석하려고 한다. 

먼저 해당 모델은 기존에 ARIMA 모형에 외생 변수 (Seoul_lag2, Kdrama_lag4, Samgyeopsal_lag3, Seongsu_lag4, Myeongdong_lag0, Hangang_lag4)를 포함하여 생성되었다. 위의 모델의 summary 데이터를 확인하면 서울 검색량의 2개월 후의 영향은 113, 한국 드라마 검색량의 4개월 후의 영향은 110, 삼겹살 검색량의 3개월 후의 영향은 1779, 성수 검색량의 4개월 후 영향은 650, 명동 검색량의 현재 영향은 3279, 한강의 경우 4개월 후의 영향이 -1294로 나온다. 
따라서 여기서 특기할만한 것은 삼겹살 검색량의 3개월 후의 영향이 1779로 크게 나타났으며 명동의 경우 현재 영향이 3280으로 크게 나타났다. 이를 생각해보면, 삼겹살의 경우에는 여행 이전에 검색한 것이 이후 시점에서의 여행객 수에 영향을 미친 것이고 명동의 경우에는 해당 달의 검색이 해당 달의 여행객 수에 영향을 미친 것이다. 이를 통해서 명동의 경우에는 여행 직전에 해당 지역을 검색하거나 여행 중에 해당 지역을 검색할 것으로 생각할 수 있다. 나머지 키워드들에 대해서는 이러한 영향이 크지 않다고 생각하였다. 


다음으로 해당 전체 모형에 대한 검정을 실시하고 이에 대한 분석을 진행하였다. 잔차분석을 통해 잔차가 Q-Q plot 상에서 정규 분포를 따르는지 검사하였고 Ljung-Box 테스트를 통해 잔차의 자기상관에 대해서 분석하였다. 아래는 해당 검사 결과를 첨부한 것이다.
위의 Q-Q plot과 Shapiro 테스트를 통해서 잔차가 정규분포를 따르는지는 확인하였으나 위에 첨부된  ACF, PACF 결과와 ljung_box 검사를 통해 잔차가 자기상관을 가지고 모델의 RMSE를 더 낮출 수 있을 수 있다고 판단하였다. 

특히 그래프에서 잔차의 자기상관 시차가 12정도인것을 확인하고 모델에 계절성이 auto arima를 사용했을 때 적용이 되지 않은 것을 확인하고 해당 문제를 해결하기 위해 직접 SARIMAX 모델을 적합하였고 동일한 분석을 아래에서 진행하였다. 

이러한 결과로 생성된 모형은 위의 테이블과 같고 RMSE는 21798이 나온 것을 확인할 수 있다. 예측값의 경우에도 24년 1월부터 24년 4월까지 각각 140680명, 205918명, 306264명, 242939명으로 보다 정확해진 것을 알 수 있다.

잔차분석을 통해 잔차가 Q-Q plot 상에서 정규 분포를 따르는지 검사하였고 Ljung-Box 테스트를 통해 잔차의 자기상관에 대해서 분석하였다. 아래는 해당 검사 결과를 첨부한 것이다.
위의 Q-Q plot과 Shapiro 테스트를 통해서 잔차가 정규분포를 따르는지는 확인하였고 잔차의 자기상관 문제도 해결되었다.


위의 분해 모형을 통해서 본 보고서에서는 2010년까지 데이터를 포함하는 경우 명확한 증가 혹은 감소와 관련한 트랜드가 없었음을 확인할 수 있었다. 선행연구에 따르면 이는 코로나-19나 메르스 등의 전염병이나 정치적인 특정 사건들을 이유로 크게 감소하는 경우가 종종 발생하여 명확한 트랜드가 없는 것으로 추정된다. 한편, 계절성의 경우에는 보다 뚜렸하게 나타나는 것을 확인할 수 있다. 특히 연초에 방문객이 급격히 줄어들고 여름을 지나서 가을에 방문객이 급격히 증가하는 것을 알 수 있다. 대체적으로 날이 비교적 선선한 3월과 10월 근처에서 월간 방문객이 많은 반면, 1년의 시작이자 겨울인 1월과 2월에 크게 감소하는 것을 알 수 있다. 


우리의 분석 결과에서 나타나듯이 명동과 삼겹살에 대한 키워드 검색량의 증가는 일본인 관광객 수에 유의미한 영향을 미친다. 특히 명동의 경우에는 여행객이 방문할 특정 지역을 미리 검색하는 것인데 이는 한 달 이내의 시차에서 매우 유의미한 영향을 미치는 것으로 드러났다. 삼겹살의 경우에는 조금 다르게 나타났다. 이 경우에는 3개월의 시차를 두고 발생했다. 
따라서 해당 결과에 따르면, 명동의 경우에는 시차를 크게 두고 방문하지 않은 것을 확인할 수 있으니 보다 지속적으로 해당 지역을 홍보하는 이벤트를 시행하는 것이 효과적일 수 있다. 예를들어서, 명동에서 관련 행사를 진행하는 마케팅을 일본을 대상으로 진행하는 경우 3개월전, 4개월 전부터 마케팅비용을 집행하는 것은 이들의 여행 결정에 큰 영향을 주지 않으므로 비효율적이라는 것이다. 이처럼 시차가 크지 않기 때문에 소규모의 지속적인 프로모션이 필요할 것으로 본 보고서에서 제안한다. 
다음으로, 삼겹살의 경우에는 분석 결과에 따라 꽤나 긴 시간의 시차를 두고 유의성이 높은 것으로 나타났다. 일반적인 접근을 하면, 특정 지역을 결정할 때는 비교적 여행에 근접해서 검색을 하는데, 여행을 떠나서 무엇을 먹고 올지에 대해서는 조금 더 이른 시점에서 고민을 진행한다고 유추하였다. 이는 삼겹살과 k-idol의 상관계수가 매우 높게 나왔는데 k-idol의 경우에 대해서 생각해보면 더욱 이해가 쉽다. 아이돌 콘서트를 방문하거나 팬 사인회에 방문하기 위해 여행하는 경우 짧은 시차보다는 긴 시차가 검색 데이터에 반영되었을 것이기 때문이다. 
따라서 본 보고서에서는 삼겹살의 경우에는 외국인들에게 한국의 삼겹살 문화를 올바르게 전달할 수 있는 프렌차이즈 식당이나 검증된 개인 식당을 기반으로 서울에서 일본인이 관심도가 높은 것으로 드러난 관광지를 중심으로 프로모션 행사를 진행하는 것을 제안한다. 한편 이러한 경우에는 사전 연구를 참고하여 그룹관광 코스에 포함시켜 홍보하는 전략을 선택할 수도 있을 것이다. 추가적으로 idol 콘서트의 경우에는 최근에 유행하는 한국의 워터밤 축제(일반적으로 여름에 진행)를 이에 접목시켜 일본인이 선호하는 idol과 관련된 조사 결과를 바탕으로 축제에 참여할 그룹을 정하고 이들의 충성도가 높다는 점을 고려하여 일본인 관광객의 수가 줄어드는 여름시기에 개최하고 이를 3개월 전부터 홍보하는 전략을 선택하여 관관객이 부족한 시기를 보완하는 전략으로 제안할 수 있을 것이다. 
한편 본 보고서에서 부족한 점과 향후 후속연구에서 필요한 부분에 대해서는 다음 파트에 구체적으로 작성하였다. 
1. Analyzing the factors make Japanes visiting Korea using the keyword data and tourist data
본 보고서를 통해서 이전 분석 파트에서 다루었듯이 우리는 삼겹살, 명동, 그리고 삼겹살과 상관관계가 높게 나타난 k-idol에 대한 일본어 검색이 일본인 관광객의 수에 영향을 주는 요인으로서 이해하였으며, 이들 각각을 최적화된 lag를 통해 해석하기 위해 적합한 모델을 만들었다.
2. Interpret Trend and seasonality of Japanese tourist data using decomposed model
일본의 경우 전체적인 트랜드의 경우에는 존재하지 않았지만, 새롭게 해가 바뀌고 겨울이 되는 1월에는 급격하게 방문자 수가 줄어들고 날씨가 적절하게 좋은 3월과 10월에 방문객 수가 크게 증가하는 계절성을 파악할 수 있었다.
3. Predict the number of japanese tourists in korea using the revised full model
이전 파트에서 작성하였듯이 우리는 SARIMAX 모델에 각 키워드 데이터를 외생변수로 포함시키고 반복문을 통해 이들의 최적의 lag를 구하여 최종 모델을 생성하였다. 과정에서 계절성이 잘 반영되지 않아 발생한 문제를 모델 검정을 통해 확인하고 이를 수정하여 최종모델을 만들었으며 해당 모델은 검정 데이터에서 RMSE 21798을 기록하였다. 그리고 해당 모델을 사용하여 24년과 25년의 데이터를 예측하고 이를 시각화하여 표시하였다.
이러한 분석은 기존에 요인연구와 예측에 관한 것이 별도로 이루어진 것을 통합하고자 하는 것에 의의가 있으며, 사전 연구에서 진행하였던 미디어 데이터의 한계점을 일본인의 직접적인 검색 데이터를 기반으로 더 정확한 예측과 해석을 시도하였음에 의의가 있다.
5. Interpret the meaning of analysis results and find strategies accordingly
이러한 분석을 기반으로 보고서의 남은 파트에서는 일본인 관광객 수를 늘리기 위한 전략적인 정책을 제안하고자 한다.


--------------한계점
본 보고서에서는 유의미하다고 판단되는 모든 변수를 고려하여 모델을 선정하였는데, 이러한 경우 해당 변수들 사이에 상관관계가 낮았음에도 조금은 서로 영향을 주고 받을 수 있기 때문에 특정 변수에 대해서 보다 직접적인 영향을 파악하기 위해서는 추가적인 후속 연구가 필요하다. 변수 하나하나에 대한 정확한 해석이 정책의 성공여부를 가를 수 있기 때문이다. 
추가적으로 구글 트랜드 데이터의 경우에는 정확한 검색량이 아니고 이들을 0-100 스케일로 기록했기 때문에 본 보고서에서 진행된 분석이 시간이 경과하는 경우 완전히 새로운 데이터 수집이 필요할 것이다. 0-100 스케일이 업데이트되기 때문이다. 추가적으로 일본인들이 주로 사용하는 검색창에 대해서도 조사할 필요가 있다. 본 보고서에서는 자료 수집의 편의 상 구글 트랜드 데이터에서 일본 지역을 기준으로 활용하였지만 대한민국의 네이버와 같이 각 국가의 사람들이 주로 사용하는 검색 서비스의 데이터가 더 정확한 분석으로 이어질 수 있다. 
마지막으로는 현재 시점에서는 시계열 데이터모델뿐만 아니라 LSTM, GRU에 이어서 더 발전된 다양한 인공지능 모델들이 시계열 데이터를 예측하는 것에 사용하고 있다. 해석보다 이들의 정확한 수요 예측을 통한 제조, 생산 등의 결정에 있어서는 정확한 결과를 예측할 수 있는 모델의 사용이 더 적합할 것이다.






















































